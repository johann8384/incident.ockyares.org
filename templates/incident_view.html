        // Display hospital data
        function displayHospitalData(hospitals) {
            const hospitalList = document.getElementById('hospitalList');
            
            if (!hospitals || Object.keys(hospitals).length === 0) {
                hospitalList.innerHTML = 'No hospitals found near this location.';
                return;
            }
            
            let hospitalsHtml = '<div class="row g-2">';
            
            // Handle the actual API response format
            Object.entries(hospitals).forEach(([level, hospitalData]) => {
                if (hospitalData && hospitalData.attributes) {
                    const attrs = hospitalData.attributes;
                    const distance = hospitalData.distance ? `${hospitalData.distance.toFixed(1)} km` : 'Distance unknown';
                    
                    let levelTitle = level.replace('_', ' ').toUpperCase();
                    if (level === 'closest') levelTitle = 'CLOSEST HOSPITAL';
                    
                    hospitalsHtml += `
                        <div class="col-md-6">
                            <h6 class="text-primary mb-2">${levelTitle}</h6>
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title">${attrs.FACILITY || 'Unnamed facility'}</h6>
                                    <div class="card-text">
                                        <div><strong>Distance:</strong> <span class="text-muted">${distance}</span></div>
                                        ${attrs.ADDRESS ? `<div><strong>Address:</strong> ${attrs.ADDRESS}</div>` : ''}
                                        ${attrs.CITY ? `<div><strong>City:</strong> ${attrs.CITY}</div>` : ''}
                                        ${attrs.PHONE ? `<div><strong>Phone:</strong> ${attrs.PHONE}</div>` : ''}
                                        ${attrs.LIC_TYPE ? `<div><strong>Type:</strong> ${attrs.LIC_TYPE}</div>` : ''}
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (hospitalData === null) {
                    let levelTitle = level.replace('_', ' ').toUpperCase();
                    
                    hospitalsHtml += `
                        <div class="col-md-6">
                            <h6 class="text-warning mb-2">${levelTitle}</h6>
                            <div class="card border-warning">
                                <div class="card-body">
                                    <p class="card-text text-muted">No ${levelTitle.toLowerCase()} found in the area.</p>
                                </div>
                            </div>
                        </div>
                    `;
                }
            });
            
            hospitalsHtml += '</div>';
            hospitalList.innerHTML = hospitalsHtml;
        }
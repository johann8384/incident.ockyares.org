        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initMap();
            loadIncidentData();
            
            // Event listeners
            document.getElementById('centerMapBtn').addEventListener('click', centerMap);
            document.getElementById('refreshBtn').addEventListener('click', refreshData);
            document.getElementById('showHospitalsBtn').addEventListener('click', loadHospitalData);
            document.getElementById('divisionsToggle').addEventListener('change', toggleDivisions);
            
            // Auto-refresh units every 30 seconds
            setInterval(loadUnits, 30000);
            
            // Auto-refresh available units for assignment dropdowns every 15 seconds
            setInterval(loadAvailableUnits, 15000);
        });